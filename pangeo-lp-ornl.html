<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="manifest" href="img/site.webmanifest">
    <link rel="mask-icon" href="img/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="img/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="img/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

		<title>Pangeo</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/e84.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<!-- Title Slide -->
				<section id="title_slide" >
					<h3>An Introduction to Pangeo</h3>
					<img class="small" data-src="img/pangeo/pangeo.png">

					<p>LP / ORNL DAAC UWG 2019</p>

					<div>
						<small>Andrew Pawloski</small>
					</div>
					<div>
						<small>andrew@element84.com</small>
					</div>
				</section>

				<section>
					<h2>Talk Agenda</h2>
					<ul>
						<li>What is Pangeo?</li>
						<li>Why Pangeo?</li>
						<li>How do I use it?</li>
						<li>How can I contribute to it?</li>
					</ul>
				</section>

				<section data-transition="none" >
					<blockquote>
						"How do I as a scientist use these technologies to advance my data workflows?"
					</blockquote>
					<p>- Aaron Friesz</p>
				</section>

				<section>
					<h2>What is Pangeo?</h2>
					<ul>
						<li><span style="font-style: italic;">Not</span> a software distro, package, or library</li>
						<li>Community of data users and software developers</li>
						<li>Frequently used packages (Pangeo "stack")</li>
						<li>Curated set of tools, architectures, and methodologies</li>
					</ul>
				</section>

				<section data-transition="none">
					<img src="img/pangeo/python-data-stack.png"/>
					<p class="cite">Image Source: Jake VanderPlas, "The State of the Stack," SciPy Keynote (SciPy 2017).</p>
				</section>

				<section data-transition="none">
					<img src="img/pangeo/pangeo_software.png"/>
					<p class="cite">Image Source: Theo McCaie, UK Met Office, ESA Î¦-week Event.</p>
				</section>

				<section>
					<div>
						<h3>Goal:</h3>
						<p>Foster collaboration around open source scientific python ecosystem for ocean / atmosphere / climate science</p>
					</div>
					<div class="fragment">
						<h3>Goal:</h3>
						<p>Build out stack with domain specific packages (e.g. thermodynamics, regridding, vector calculus, etc)</p>
					</div>
					<div class="fragment">
						<h3>Goal:</h3>
						<p>Scale to handle many-PB data missions (e.g. SWOT, NISAR)</p>
					</div>
				</section>

				<section data-transition="none">
					<h4>EOSDIS Data Ingest Rates</h4>
					<img src="img/pangeo/nasa_data_ingest_rates.jpg"/>
					<p class="cite">Image Source: https://earthdata.nasa.gov/about/cloud-evolution</p>
				</section>

				<section data-transition="none">
					<img src="img/pangeo/pangeo_flow.png"/>
					<p class="cite">Image Source: Pangeo Technical Architecture (https://pangeo.io/architecture.html)</p>
				</section>

				<section>
					<ul>
						<li>No source data downloaded to workstation</li>
						<li>Well suited for cloud-native data stores/formats (e.g. S3, GCS and COGs, Zarr)</li>
						<li>Notebooks can be persisted, shared</li>
						<li>Compute is ephemeral</li>
					</ul>
				</section>

				<section>
					<h2>Xarray</h2>
					<img src="img/pangeo/xarray_model.png"/>
					<a>http://xarray.pydata.org/en/stable/api.html</a>
				</section>

				<section>
					<h2>Xarray</h2>
					<img src="img/pangeo/xarray_dataset.png"/>
				</section>

				<section data-background-iframe="http://xarray.pydata.org/en/stable/api.html#indexing" data-background-interactive>
				</section>

				<section data-transition="none">
					<h2>Dask</h2>
					<img src="img/pangeo/dask-schedulers.png"/>
					<p class="cite">Image Source: Multidimensional Arrays, Geohackweek 2016</p>
				</section>

				<section data-transition="none">
					<h2>Dask</h2>
					<img src="img/pangeo/dask_graph.gif"/>
					<p class="cite">Image Source: Multidimensional Arrays, Geohackweek 2016</p>
				</section>

				<section data-transition="none">
					<h2>Cloud-Native Data Formats</h2>
					<div class="fragment">
						<figure>
							<img data-src="img/satcat/smiley_raster.png">
							<figcaption>Linear Reads</figcaption>
						</figure>
						<p class="cite">Image Source: James Norton (Element 84)</p>
					</div>
				</section>

				<section data-transition="none">
					<h2>Cloud-Native Data Formats</h2>
					<div>
						<figure>
							<img data-src="img/satcat/smiley_tiled.png">
							<figcaption>Tiled Reads</figcaption>
						</figure>
						<p class="cite">Image Source: James Norton (Element 84)</p>
					</div>
				</section>

				<section data-transition="none">
					<img src="img/pangeo/jhub_example.png"/>
					<p class="cite">Image Source: Scott Henderson (University of Washington)</p>
				</section>


				<section data-transition="none">
					<h2>Demo?</h2>
					<a>https://nasa.pangeo.io</a>
				</section>



				<section>
					<h2>Deploying Pangeo</h2>
					<div class="fragment">
						<ol>
							<li>Deploy Kubernetes Cluster</li>
							<li>Configure with Pangeo-provided settings file</li>
							<li>Deploy Pangeo-provided Helm chart</li>
						</ol>
						<div>
							<br>
							<a>http://pangeo.io/setup_guides/index.html</a>
							<a>https://github.com/pangeo-data/pangeo-cloud-federation</a>
						</div>
					</div>
				</section>

				<section>
					<h2>Further Resources</h2>
					<ul>
						<li>Website: <a>http://pangeo.io/</a></li>
						<li>Github: <a>https://github.com/pangeo-data</a></li>
						<li>Blog: <a>https://medium.com/pangeo</a></li>
						<li>Gitter: <a>https://gitter.im/pangeo-data</a></li>
					</ul>
				</section>

				<section id="thank_you_slide">
					<h3>Thank you.</h3>
					<h5>(Come see Pangeo talks at AWS PSS, ESIP!)</h5>
					<p>andrew@element84.com</p>
					<a>apawl.com/talks/pangeo-lp-ornl.html</a>
					<!-- <img data-src="img/E84_horizontal_medium.png"> -->
				</section>

				<section id="thank_you_slide" data-background-image="img/e84_blue_background.jpg">
					<h3>Backup Slides</h3>
				</section>

				<!-- BACKUP SLIDES -->

				<section data-transition="none">
					<h2>Using Your Deployment: Dask</h2>
					<div class="fragment">
						<pre><code class="hljs" data-trim data-line-numbers="1,4-6">
from dask_jobqueue import PBSCluster
from dask.distributed import Client

cluster = PBSCluster(cores=36,
										 memory="108GB")
cluster.scale(10)
client = Client(cluster)
						</code></pre>
					</div>
				</section>

				<section data-transition="none">
					<h2>Using Your Deployment: Dask</h2>
					<div>
						<pre><code class="hljs" data-trim data-line-numbers="1,4-6">
from dask_kubernetes import KubeCluster
from dask.distributed import Client

cluster = KubeCluster(n_workers=10)
cluster.scale(10)

client = Client(cluster)
						</code></pre>
					</div>
				</section>

				<section data-transition="none" data-background-transition="none" data-background-image="img/e84_blue_background.jpg">
					<img data-src="img/satcat/cogs_logo.png">
				</section>

				<section data-transition="none" data-background-transition="none"
				data-background-color="#ffffff" style="color: #000000">
					<h6 style="color: #000000">Cloud Optimized GeoTIFFs (COGs)</h6>
					<ul>
						<li>Regular GeoTIFFs</li>
						<li>Tiled</li>
						<li>Support HTTP GET Range Requests</li>
						<li>End users download subset range of the GeoTIFF</li>
					</ul>
				</section>

				<section data-transition="none" data-background-transition="none" data-background-image="img/e84_blue_background.jpg">
					<figure>
						<img data-src="img/satcat/smiley_raster.png">
						<figcaption>Typical Raster</figcaption>
					</figure>
					<small style="font-style: italic; color: grey;">Image credit: James Norton (Element 84)</small>
				</section>

				<section data-transition="none" data-background-transition="none" data-background-image="img/e84_blue_background.jpg">
					<figure>
						<img data-src="img/satcat/smiley_tiled.png">
						<figcaption>Tiled GeoTIFF</figcaption>
					</figure>
					<small style="font-style: italic; color: grey;">Image credit: James Norton (Element 84)</small>
				</section>

				<section data-transition="none" data-background-transition="none" data-background-image="img/e84_blue_background.jpg">
					<img data-src="img/satcat/zarr_logo.png">
				</section>

				<section data-transition="none" data-background-transition="none"
				data-background-color="#ffffff" style="color: #000000">
					<h6 style="color: #000000">Zarr</h6>
					<ul>
						<li>Multi-dimensional arrays saved in discrete chunks</li>
						<li>Each chunk is a file</li>
						<li>Clients can pull only the chunks they need</li>
					</ul>
				</section>

			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
